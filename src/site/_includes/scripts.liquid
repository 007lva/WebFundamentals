<!--
  Demo JS

  I was unable to add JS comments because
  it breaks the build for some weird reason

  But this is all we should need really
  Most of the code are just some helper
  functions.

  Let me know what you think,
  Pedro
-->

<script type="text/javascript">
  var html = document.querySelector('html');
  removeClass(html, 'no-js');
  addClass(html, 'js');

  if (isTouch()) {
    var documentationItem = document.querySelector('.main-nav__item--documentation');
    var documentationLink = document.querySelector('.main-nav__item--documentation > .main-nav__link');
    var documentationIsOpened = false;

    removeClass(html, 'no-touch');
    addClass(html, 'is-touch');

    documentationLink.addEventListener('click', function (event) {
      event.preventDefault();

      if (!documentationIsOpened) {
        documentationIsOpened = true;
        addClass(documentationItem, 'is-opened');
      } else {
        documentationIsOpened = false;
        removeClass(documentationItem, 'is-opened');
      }

    });
  }

  function isTouch() {
    return ('ontouchstart' in window) || (navigator.msMaxTouchPoints > 0);
  };

  function addClass(element, className) {
    if (!element) { return; }
    element.className = element.className.replace(/\s+$/gi, '') + ' ' + className;
  }

  function removeClass(element, className) {
    if (!element) { return; }
    element.className = element.className.replace(className, '');
  }

</script>
